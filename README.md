# CG2025-2233211167-dangchenshuo-rubik_cube
计算机图形学魔方
项目概述
这是一个使用 Python 和 OpenGL开发的交互式3D魔方模拟器。它不仅提供了直观的3D可视化效果，还集成了用户交互、动画系统以及自动求解功能。
部署
该项目基于Python和PyOpenGL，部署时需安装依赖PyOpenGL、NumPy，确保支持OpenGL的图形环境，运行主脚本即可启动3D魔方模拟器。无需复杂服务器配置，适合本地桌面运行。
核心架构 (MVC 模式)
项目结构清晰，遵循了经典的MVC设计模式：
•	Model (模型层 - model/)
o	RubiksCube: 管理整个魔方的状态，包括所有小方块（Cubie）的位置和颜色。
o	Cubie: 代表单个魔方块，存储其位置和六个面的颜色。
•	View (视图层 - view/)
o	Renderer: 主渲染器，负责将魔方模型绘制到屏幕上。它使用 OpenGL 进行3D渲染，并管理光照、材质和相机视角。
o	Camera: 控制3D场景的观察视角，支持通过鼠标拖拽进行旋转。
o	interfaces.py: 定义了 ICubie 接口，确保模型层和视图层之间的松耦合。
•	Controller (控制层 - control/)
o	InputHandler: 处理所有用户输入，包括键盘、鼠标点击、拖拽和滚轮。它将用户的操作转换为对模型的指令。
o	AnimationQueue: 管理魔方旋转的动画队列。当用户触发一个旋转时，它会创建一个平滑的动画过程，而不是瞬间完成。
o	SolverController: 集成外部的“两阶段算法”求解器，能够自动计算出复原当前魔方状态的步骤序列。
o	CubeAdapter: 作为适配器，将项目内部的魔方状态数据格式转换为求解器所需的字符串格式。
•	UI (用户界面层 - ui/)
o	UIManager / Button: 在3D场景之上叠加一个2D的图形用户界面（GUI），包含“打乱”、“快速打乱”、“重置”、“求解”等按钮，以及一个可切换的“使用说明”面板。
详细功能
•	鼠标交互
•	左键拖拽：旋转整个魔方视角。
•	左键短按：点击魔方面 → 该面顺时针旋转90°（带动画）。
•	右键短按：点击魔方面 → 该面逆时针旋转90°（带动画）。
•	滚轮缩放：调整魔方整体大小（有缩放限制）。
  
•	键盘控制
•	字母键（如 g/G，共6组）：对应魔方面顺/逆时针旋转（g=绿面顺时针，G=绿面逆时针等）。
•	s/S：s 带动画打乱20步；S 瞬间打乱（无动画）。
 
•	c/C：立即重置魔方（高优先级，可中断动画）。
•	u/U：切换UI界面显示/隐藏。
 
•	Enter：调用外部求解器计算最优解并播放动画。【见演示视频】
•	\b（退格键）：通过倒放历史操作复原魔方。【见演示视频】
•	UI按钮集成
绑定UI管理器，实现以下按钮功能：
•	Scramble——打乱：生成20步打乱序列并逐帧动画执行。【见演示视频】
•	Q-Scramble(S)——快速打乱：直接应用20步打乱（无动画）。
•	Reset(C)——重置：清空状态与历史，恢复初始状态。
•	Solve——求解：调用外部求解器计算最优解并播放动画。（功能同Enter）
•	Instructions——使用说明：显示/隐藏操作指南面板。
 

